clusterName: "your-cluster-name"

applications:
  - name: "webapp"
    spec:
      cpu: 500
      memory: 1024
      scalingMode: "cpu"
      minScale: 1
      maxScale: 3
      scaleInThreshold: 30
      scaleOutThreshold: 80
      image: "nginx:latest"
      exposedPorts:
        - targetPort: 80
          loadBalancerPort: 443
          useLetsEncrypt: true
          host:
            - "example.com"
          healthCheck:
            path: "/health"
            intervalSeconds: 30
            timeoutSeconds: 5
      env:
        - key: "APP_ENV"
          value: "production"
          secret: false
        - key: "DATABASE_URL"
          secret: true

  - name: "api"
    spec:
      cpu: 1000
      memory: 2048
      scalingMode: "manual"
      fixedScale: 2
      image: "myregistry/api:v1.0.0"
      registryUsername: "username"
      registryPassword: "password"
      registryPasswordVersion: 1
      exposedPorts:
        - targetPort: 8080
          loadBalancerPort: 443
          useLetsEncrypt: true
          host:
            - "api.example.com"
          healthCheck:
            path: "/api/health"
            intervalSeconds: 15
            timeoutSeconds: 5
      env:
        - key: "LOG_LEVEL"
          value: "info"
          secret: false
